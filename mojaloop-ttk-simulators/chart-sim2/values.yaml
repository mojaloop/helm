# This is a YAML-formatted file.

sdk-scheme-adapter:
  enabled: true

  ## Local re-usable configs
  config:
    simName: &CONFIG_SIM2_NAME ml-ttk-sim2
    database: &CONFIG_SIM2_DB 2

  sdk-scheme-adapter-api-svc:
    enabled: true
    nameOverride: 'ml-ttk-sim2-sdk-api-svc'

    redis:
      database: *CONFIG_SIM2_DB # This is a number between 0 to 15

    config:
      simName: *CONFIG_SIM2_NAME

    env:
      DFSP_ID: '{{ .Values.config.simName }}'
      BACKEND_EVENT_CONSUMER_GROUP_ID: '{{ .Values.config.simName }}-domain_events_consumer_api_svc_backend_group'
      FSPIOP_EVENT_CONSUMER_GROUP_ID: '{{ .Values.config.simName }}-domain_events_consumer_api_svc_fspiop_group'
      BACKEND_EVENT_CONSUMER_TOPICS: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'
      BACKEND_EVENT_PRODUCER_TOPIC: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'
      FSPIOP_EVENT_CONSUMER_TOPICS: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'
      FSPIOP_EVENT_PRODUCER_TOPIC: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'
      BACKEND_ENDPOINT: '{{ .Release.Name }}-{{ .Values.config.simName }}-ttk-backend:4040'
  sdk-scheme-adapter-dom-evt-handler:
    enabled: true

    redis:
      database: *CONFIG_SIM2_DB # This is a number between 0 to 15

    config:
      simName: *CONFIG_SIM2_NAME

    nameOverride: 'ml-ttk-sim2-sdk-dom-evt-handler'
    env:
      DOMAIN_EVENT_CONSUMER_GROUP_ID: '{{ .Values.config.simName }}-domain_events_consumer_group'
      DOMAIN_EVENT_CONSUMER_TOPICS: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'
      COMMAND_EVENT_PRODUCER_TOPIC: '{{ .Values.config.simName }}-topic-sdk-outbound-command-events'
  sdk-scheme-adapter-cmd-evt-handler:
    enabled: true
    nameOverride: 'ml-ttk-sim2-sdk-cmd-evt-handler'

    redis:
      database: *CONFIG_SIM2_DB # This is a number between 0 to 15

    config:
      simName: *CONFIG_SIM2_NAME

    env:
      COMMAND_EVENT_CONSUMER_GROUP_ID: '{{ .Values.config.simName }}-command_events_consumer_group'
      COMMAND_EVENT_CONSUMER_TOPICS: '{{ .Values.config.simName }}-topic-sdk-outbound-command-events'
      DOMAIN_EVENT_PRODUCER_TOPIC: '{{ .Values.config.simName }}-topic-sdk-outbound-domain-events'

ml-testing-toolkit:
  enabled: true

  mysql:
    ## repo and documentation https://github.com/helm/charts/tree/master/stable/percona-xtradb-cluster
    ## disable when connection-manager-backend is disabled
    enabled: false

  ml-testing-toolkit-backend:
    enabled: true
    nameOverride: 'ml-ttk-sim2-ttk-backend'
    config:
      user_config.json:
        CALLBACK_ENDPOINT: 'http://$release_name-ml-ttk-sim2-sdk-api-svc:4001'
      system_config.json: {
        "API_DEFINITIONS": [
          {
            "type": "mojaloop_simulator_inbound",
            "version": "1.4",
            "folderPath": "mojaloop_simulator_sim_1.4"
          },
          {
            "type": "scheme_adapter_outbound",
            "version": "1.0",
            "folderPath": "mojaloop_sdk_outbound_scheme_adapter_1.0",
            "hostnames": [],
            "prefix": "/sdk-out"
          }
        ]
      }
      rules_response__default.json: [
        {
          "ruleId": 1,
          "priority": 1,
          "description": "get /parties/{idType}/{idValue} - error case - id not found",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "pathParams",
                "operator": "equal",
                "value": "iddoesnotexist",
                "path": "idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/parties/{idType}/{idValue}"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "get"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "statusCode": "4001",
                "message": "ID Not Found"
              },
              "statusCode": "404",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 2,
          "priority": 2,
          "description": "get /parties/{idType}/{idValue} - error case - timeout",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "pathParams",
                "operator": "equal",
                "value": "idtimesout",
                "path": "idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/parties/{idType}/{idValue}"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "get"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "idType": "MSISDN",
                "idValue": "{$request.params.idValue}",
                "displayName": "ReceiverFirst ReceiverLast",
                "firstName": "ReceiverFirst",
                "middleName": "ReceiverMiddle",
                "lastName": "ReceiverLast",
                "dateOfBirth": "1984-01-01",
                "fspId": "ttkpm4mlreceiver"
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              },
              "delay": 300000
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 3,
          "priority": 3,
          "description": "get /parties/{idType}/{idValue} - default path",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/parties/{idType}/{idValue}"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "get"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "idType": "MSISDN",
                "idValue": "{$request.params.idValue}",
                "displayName": "ReceiverFirst ReceiverLast",
                "firstName": "ReceiverFirst",
                "middleName": "ReceiverMiddle",
                "lastName": "ReceiverLast",
                "dateOfBirth": "1984-01-01",
                "fspId": "ttkpm4mlreceiver"
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 4,
          "priority": 4,
          "description": "post /bulkQuotes - receiver responds with 2 quotes results",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "receiverfsphastwoids",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "{$request.body.expiration}",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  },
                  {
                    "quoteId": "{$request.body.individualQuotes[1].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[1].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 5,
          "priority": 5,
          "description": "post /bulkQuotes - receiver responds with 1 quotes result",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "receiverfsphas1id",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "{$request.body.expiration}",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 6,
          "priority": 6,
          "description": "post /bulkQuotes - receiver fails the entire batch",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "bulkquotesreceiversendserror",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "statusCode": "2000",
                "message": "Generic Server Error"
              },
              "statusCode": "500",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 7,
          "priority": 7,
          "description": "post /bulkQuotes - bulk transfer test case - receiver fails the entire batch",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "blktrfrrcvrfailsbatch",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "statusCode": "2000",
                "message": "Generic Server Error"
              },
              "statusCode": "500",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 8,
          "priority": 8,
          "description": "post /bulkQuotes - receiver sends success response for one quote and failure for other",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "bulkqtrcvrsendssuccessanderror",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "2040-01-01T00:00:00.000Z",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  },
                  {
                    "statusCode": "5101",
                    "message": "Payee Rejected Quote"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 9,
          "priority": 9,
          "description": "post /bulkQuotes - bulk transfer test case - receiver sends success response for one transfer and failure for other",
          "apiVersion": {
            "minorVersion": 4, 
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "blktrrcvrsendssuccessanderror",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "2040-01-01T00:00:00.000Z",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  },
                  {
                    "quoteId": "{$request.body.individualQuotes[1].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[1].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 10,
          "priority": 10,
          "description": "post /bulkQuotes - bulk quotes response for transfers scenario that has an error in the result",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "bulktransferresponsehas1error",
                "path": "individualQuotes[0].to.fspId"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "{$request.body.expiration}",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  },
                  {
                    "quoteId": "{$request.body.individualQuotes[1].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[1].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 11,
          "priority": 11,
          "description": "post /bulkQuotes - default path",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkQuotes"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkQuoteId": "{$request.body.bulkQuoteId}",
                "expiration": "2040-01-01T00:00:00.000Z",
                "individualQuoteResults": [
                  {
                    "quoteId": "{$request.body.individualQuotes[0].quoteId}",
                    "transferAmount": "{$request.body.individualQuotes[0].amount}",
                    "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
                    "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspFeeAmount": "0",
                    "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
                    "payeeFspCommissionAmount": "0",
                    "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 12,
          "priority": 12,
          "description": "put /bulkTransactions/{bulkTransactionId}",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkTransactions/{bulkTransactionId}"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "put"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "scripts": {
                "scriptingEngine": "postman"
              },
              "statusCode": "202"
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 13,
          "priority": 13,
          "description": "post /bulkTransfers - receiver fails the entire batch",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "blktrfrrcvrfailsbatch",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkTransfers"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "statusCode": "4001",
                "message": "Cannot process the bulk transfer"
              },
              "statusCode": "500",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 14,
          "priority": 14,
          "description": "post /bulkTransfers - receiver sends success response for one transfer and failure for other",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "hostnames": [
              "ttkpm4mlreceiver-ttk-backend"
            ],
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "body",
                "operator": "equal",
                "value": "blktrrcvrsendssuccessanderror",
                "path": "from.idValue"
              },
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkTransfers"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkTransferId": "{$request.body.bulkTransferId}",
                "homeTransactionId": "{$request.body.homeTransactionId}",
                "individualTransferResults": [
                  {
                    "transferId": "{$request.body.individualTransfers[0].transferId}"
                  },
                  {
                    "statusCode": "4001",
                    "message": "Cannot process the transfer"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        },
        {
          "ruleId": 15,
          "priority": 15,
          "description": "post /bulkTransfers - default path",
          "apiVersion": {
            "minorVersion": 4,
            "majorVersion": 1,
            "type": "mojaloop_simulator_inbound",
            "hostnames": [
              "ttkpm4mlreceiver-ttk-backend"
            ],
            "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
            "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
            "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
            "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
            "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
          },
          "conditions": {
            "all": [
              {
                "fact": "operationPath",
                "operator": "equal",
                "value": "/bulkTransfers"
              },
              {
                "fact": "method",
                "operator": "equal",
                "value": "post"
              }
            ]
          },
          "event": {
            "method": null,
            "path": null,
            "params": {
              "body": {
                "bulkTransferId": "{$request.body.bulkTransferId}",
                "homeTransactionId": "{$request.body.homeTransactionId}",
                "individualTransferResults": [
                  {
                    "transferId": "{$request.body.individualTransfers[0].transferId}"
                  }
                ]
              },
              "statusCode": "200",
              "scripts": {
                "scriptingEngine": "postman"
              }
            },
            "type": "FIXED_RESPONSE"
          },
          "type": "response",
          "version": 1
        }
      ]
      api_definitions__mojaloop_simulator_sim_1.4__api_spec.yaml: 'https://raw.githubusercontent.com/mojaloop/sdk-scheme-adapter/mvp/feat/%232809-local-end-to-end-func-tests/test/func/config/ml-testing-toolkit/spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml'
      api_definitions__mojaloop_sdk_outbound_scheme_adapter_1.0__api_spec.yaml: 'https://raw.githubusercontent.com/mojaloop/sdk-scheme-adapter/mvp/feat/%232809-local-end-to-end-func-tests/test/func/config/ml-testing-toolkit/spec_files/api_definitions/mojaloop_sdk_outbound_scheme_adapter_1.0/api_spec.yaml'

  #   ingress:
  #     enabled: true
  #     hosts:
  #       specApi:
  #         host: ml-testing-toolkit-specapi.local
  #       adminApi:
  #         host: ml-testing-toolkit.local
  #   extraEnvironments:
  #     ml-default-environment.json: {
  #       "inputValues": {
  #         "VAR1": "VALUE1"
  #       }
  #     }

  ml-testing-toolkit-frontend:
    enabled: true
    nameOverride: 'ml-ttk-sim2-ttk-frontend'
  #   ingress:
  #     enabled: true
  #     hosts:
  #       ui:
  #         host: ml-testing-toolkit.local
  #   config:
  #     API_BASE_URL: http://ml-testing-toolkit.local
